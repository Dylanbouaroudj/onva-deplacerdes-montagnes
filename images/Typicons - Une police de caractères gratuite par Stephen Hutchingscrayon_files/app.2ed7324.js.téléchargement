!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},r={},o={},n={}.hasOwnProperty,i=/^\.\.?(\/|$)/,s=function(t,e){for(var r,o=[],n=(i.test(e)?t+"/"+e:e).split("/"),s=0,a=n.length;a>s;s++)r=n[s],".."===r?o.pop():"."!==r&&""!==r&&o.push(r);return o.join("/")},a=function(t){return t.split("/").slice(0,-1).join("/")},c=function(e){return function(r){var o=s(a(e),r);return t.require(o,e)}},u=function(t,e){var o=w&&w.createHot(t),n={id:t,exports:{},hot:o};return r[t]=n,e(n.exports,c(t),n),n.exports},l=function(t){return o[t]?l(o[t]):t},p=function(t,e){return l(s(a(t),e))},d=function(t,o){null==o&&(o="/");var i=l(t);if(n.call(r,i))return r[i].exports;if(n.call(e,i))return u(i,e[i]);throw new Error("Cannot find module '"+t+"' from '"+o+"'")};d.alias=function(t,e){o[e]=t};var h=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,y=function(t){if(h.test(t)){var e=t.replace(h,"");n.call(o,e)&&o[e].replace(h,"")!==e+"/index"||(o[e]=t)}if(f.test(t)){var r=t.replace(f,"");n.call(o,r)||(o[r]=t)}};d.register=d.define=function(t,o){if(t&&"object"==typeof t)for(var i in t)n.call(t,i)&&d.register(i,t[i]);else e[t]=o,delete r[t],y(t)},d.list=function(){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t};var w=t._hmr&&new t._hmr(p,d,e,r);d._cache=r,d.hmr=w&&w.wrap,d.brunch=!0,t.require=d}}(),function(){"undefined"==typeof window?this:window;require.register("app.coffee",function(t,e,r){var o;o={initialize:function(){var t,r,o,n;window.iostap.initialize(),hljs.initHighlightingOnLoad(),n=e("lib/easie");for(r in n)o=n[r],$.easing[r]=function(t){return function(e){return t(e)}}(o);return $("html").removeClass("no-js"),t=e("lib/router"),this.router=new t,Backbone.history.start({pushState:!0})}},r.exports=o}),require.register("data/clues.yaml",function(t,e,r){r.exports=[{word:"ABALONE",cryptic:"Single sailor is sea delicacy",quick:"Seafood"},{word:"ABANDON",cryptic:"A moratorium put on leave",quick:"Leave"},{word:"ABDOMEN",cryptic:"Upset mad bone in the middle",quick:"Middle"},{word:"ABDUCTS",cryptic:"Sailor vents and steals away",quick:"Steals away"},{word:"ABIDING",cryptic:"Tolerant part of rabid ingrate",quick:"Tolerant"},{word:"ABRIDGE",cryptic:"Shorten a way across",quick:"Shorten"},{word:"ABSEILS",cryptic:"Gets down mariner who sails aloud",quick:"Ropes down"},{word:"ABSORBS",cryptic:"Drunken bar boss soaks up",quick:"Soaks up"},{word:"ACADEMY",cryptic:"School begins, and current affairs deserve educated, mindful youth",quick:"School"},{word:"ACCEPTS",cryptic:"Understands acts about sceptre without the rest",quick:"Understands"},{word:"ACETONE",cryptic:"Winner with a sound solvent",quick:"Solvent"},{word:"ACROBAT",cryptic:"A moggie about mug tumbler",quick:"Tumbler"},{word:"ADHERED",cryptic:"Commerical spot did start to become stuck",quick:"Stuck"},{word:"ADVANCE",cryptic:"Early payment Dave can check",quick:"Early payment"},{word:"AGAINST",cryptic:"Can't get behind repeat street",quick:"Can't get behind"},{word:"AILMENT",cryptic:"Sounds like beer signified a sickness",quick:"Sickness"},{word:"AIRHEAD",cryptic:"Sky CEO a dummy",quick:"Dummy"},{word:"ALIGNED",cryptic:"Sort of angled, I straigtened up",quick:"Straigtened up"},{word:"ALUMNUS",cryptic:"Graduate guts album of headless gnus",quick:"Graduate"},{word:"AMATEUR",cryptic:"A beffudled, mature non-professional",quick:"Beginner"},{word:"AMPHORA",cryptic:"Vase will excite agnostic Horace",quick:"Vase"},{word:"ANNOYED",cryptic:"Day none were upset or frustrated",quick:"Frustrated"},{word:"APOLOGY",cryptic:"Sorry, a sport with gory extremes?",quick:"Sorry, for example"},{word:"APPLAUD",cryptic:"Software dual reversed praise",quick:"Praise"},{word:"APPLIED",cryptic:"Practical software falsified",quick:"Practical"},{word:"APPROVE",cryptic:"Monkey around half-provable support",quick:"Support"},{word:"APRICOT",cryptic:"Fruit tossed to Capri",quick:"Fruit"},{word:"ATHEIST",cryptic:"Where robbery creates unbeliever?",quick:"Unbeliever"},{word:"ATROPHY",cryptic:"Decline an award",quick:"Decline"},{word:"AVARICE",cryptic:"Greed freeze after any very ample rich beginnings",quick:"Greed"},{word:"AWAKENS",cryptic:"Crazy WA snake arouses",quick:"Arouses"},{word:"BABYLON",cryptic:"Old city on after infant learner",quick:"Old city"},{word:"BACKPAY",cryptic:"What's owed turns revenge on it's head",quick:"What's owed"},{word:"BAHAMAS",cryptic:"Ahab and Sam go back to island nation",quick:"Island nation"},{word:"BANANAS",cryptic:"Loopy for second-rate French pineapples",quick:"Loopy"},{word:"BARGAIN",cryptic:"Nightclub benefit? It's cheap!",quick:"It's cheap!"},{word:"BATSMEN",cryptic:"Males behind return of gore for players",quick:"Players"},{word:"BAYONET",cryptic:"Sharp attachment to fish in un-American bayous",quick:"Spear"},{word:"BAZOOKA",cryptic:"A launcher? Arts degree on animals in Kansas",quick:"A launcher"},{word:"BECOMES",cryptic:"Suits exist before proceeds",quick:"Suits"},{word:"BEETLES",cryptic:"Plant the French ladybirds",quick:"Ladybirds"},{word:"BIGFOOT",cryptic:"Hairy biped is almost 13 inches",quick:"Hairy biped"},{word:"BIGSHOT",cryptic:"Strong coffee for someone of note",quick:"Someone of note"},{word:"BISCUIT",cryptic:"Two diamonds surround vitamin cookie",quick:"Cookie"},{word:"BLONDER",cryptic:"More fair with oblong exposed and turning red",quick:"More fair"},{word:"CANYON",cryptic:"Something grand in a Tuscany onion",quick:"Something grand"},{word:"CAPRICE",cryptic:"Fancy best cereal",quick:"Cereal"},{word:"CAROUSE",cryptic:"Go on a bender and find oxygen need at rear of vehicle",quick:"Go on a bender"},{word:"CELLOS",cryptic:"Lock-up foreign instruments",quick:"Instruments"},{word:"DAMPER",cryptic:"More moist camp provision",quick:"More moist"},{word:"DEACONS",cryptic:"Professors collect group of priests",quick:"Priests"},{word:"DOGGONE",cryptic:"Departed animal is blessed",quick:"Blessed"},{word:"DREADS",cryptic:"Fears rap doctor commercials",quick:"Fears"},{word:"FEATHER",cryptic:"Soften her fate clumsily",quick:"Soften"},{word:"FERVOUR",cryptic:"Pelt around nervous inner passion",quick:"Passion"},{word:"GANDER",cryptic:"Spy danger uncoils",quick:"Spy"},{word:"HUMOUR",cryptic:"Go along with unsure pause in 60 Minutes",quick:"Go along with"},{word:"INTEGER",cryptic:"Bury example inside number",quick:"Number"},{word:"JACKPOT",cryptic:"Lift and raise top to find kitty",quick:"Kitty"},{word:"LETS GO",cryptic:"Loosens up Spooner on the dance floor",quick:"Loosens up"},{word:"LODGE",cryptic:"Tender retreat",quick:"Retreat"},{word:"LOSING",cryptic:"Eluding second half of solo croon",quick:"Eluding"},{word:"MADNESS",cryptic:"End up central to horde hysteria",quick:"Hysteria"},{word:"MALLETS",cryptic:"Hammers smash set, closing arcade",quick:"Hammers"},{word:"NIRVANA",cryptic:"Ran vain attempts at peace",quick:"Peace"},{word:"PEGASUS",cryptic:"Famed four-legger imitates our clip",quick:"Famed four-legger"},{word:"PERHAPS",cryptic:"Sharp EP remix, maybe?",quick:"Maybe"},{word:"PLUNGER",cryptic:"Diver for each without air sac",quick:"Diver"},{word:"QUIP",cryptic:"Make a joke that's quick, short and quiet",quick:"Make a joke"},{word:"SESAME",cryptic:"Asian flavour loses key in mixed message",quick:"Seeds on a roll"},{word:"TASTING",cryptic:"Get back at smart sample",quick:"Sample"},{word:"TAX-FREE",cryptic:"Without duty, Spooner will send source of paper",quick:"Without duty"},{word:"TEACHER",cryptic:"Guide or disguised cheater?",quick:"Guide"},{word:"TENABLE",cryptic:"Last night, green light sound",quick:"Sound"},{word:"TEQUILA",cryptic:"Surreal quiet, then the Spanish drink",quick:"Drink"},{word:"VENISON",cryptic:"Game to play on vines",quick:"Game meat"},{word:"VETERAN",cryptic:"Old-timer crashes van into tree",quick:"Old-timer"},{word:"WALLOWS",cryptic:"Savours swallow at sixes and sevens",quick:"Savours"},{word:"WARLOCK",cryptic:"Ill will catch a caster of spells",quick:"A caster of spells"},{word:"WHEREAS",cryptic:"Used to be around this spot on the other hand",quick:"Wackos"},{word:"WITCHES",cryptic:"Hags cleverness? Never finishing chess!",quick:"Hags"},{word:"WOBBLY",cryptic:"Staggering blow by tornado",quick:"Staggering"},{word:"WORKMAN",cryptic:"Labourer is to know arm wrestles",quick:"Labourer"}]}),require.register("lib/easie.coffee",function(t,e,r){var o,n,i,s,a,c,u,l,p,d,h,f,y,w,g,v,m,b,k,A,q,$,C,T,_,S,E,x,O,I,D,P,B,L,M;C=Math,o=function(t,e){return null==e&&(e=1.70158),t*t*((e+1)*t-e)},i=function(t,e){return null==e&&(e=1.70158),(t-=1)*t*((e+1)*t+e)+1},n=function(t,e){return null==e&&(e=1.70158),(t*=2)<1?.5*(t*t*(((e=1.525)+1)*t-e)):.5*((t=2)*t*(((e=1.525)+1)*t+e)+2)},c=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},s=function(t){return 1-c(1-t,0)},a=function(t){return.5>t?.5*s(2*t,0):.5*c(2*t-1,0)+.5},u=function(t){return-(C.sqrt(1-t*t)-1)},p=function(t){return C.sqrt(1-(t-=1)*t)},l=function(t){return(t*=2)<1?-.5*(C.sqrt(1-t*t)-1):.5*(C.sqrt(1-(t-=2)*t)+1)},d=function(t){return t*t*t},f=function(t){return(t-=1)*t*t+1},h=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},g=function(t,e,r){var o;return null==e&&(e=null),null==r&&(r=null),0===t?0:1===t?1:(null==r&&(r=.3),null==e||1>e?(e=1,o=r/4):o=r/(2*C.PI)*C.asin(1/e),e*C.pow(2,-10*t)*C.sin((t-o)*(2*C.PI)/r)+1)},y=function(t,e,r){var o;return null==e&&(e=null),null==r&&(r=null),0===t?0:1===t?1:(null==r&&(r=.3),null==e||e<C.abs(1)?(e=1,o=r/4):o=r/(2*C.PI)*C.asin(1/e),t-=1,-(e*C.pow(2,10*t))*C.sin((t-o)*(2*C.PI)/r))},w=function(t,e,r){var o;return null==e&&(e=null),null==r&&(r=null),0===t?0:2===(t*=2)?1:(null==r&&(r=.3*1.5),null==e||e<C.abs(1)?(e=1,o=r/4):o=r/(2*C.PI)*C.asin(1/e),1>t?-.5*(e*C.pow(2,10*(t=1)))*C.sin((t-o)*(2*C.PI/r)):e*C.pow(2,-10*(t=1))*C.sin((t-o)*(2*C.PI)/r)+1)},v=function(t){return 0===t?0:C.pow(2,10*(t-1))},b=function(t){return 1===t?1:-C.pow(2,-10*t)+1},m=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*C.pow(2,10*(t-1)):.5*(-C.pow(2,-10*(t-1))+2)},q=function(t){return t},k=function(t){return Easie.linearNone(t)},$=function(t){return Easie.linearNone(t)},A=function(t){return Easie.linearNone(t)},T=function(t){return t*t},S=function(t){return-t*(t-2)},_=function(t){return(t*=2)<1?.5*t*t:-.5*((t-=1)*(t-2)-1)},E=function(t){return t*t*t*t},O=function(t){return-((t-=1)*t*t*t-1)},x=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},I=function(t){return t*t*t*t*t},P=function(t){return(t-=1)*t*t*t*t+1},D=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},B=function(t){return-C.cos(t*(C.PI/2))+1},M=function(t){return C.sin(t*(C.PI/2))},L=function(t){return-.5*(C.cos(C.PI*t)-1)},r.exports={backIn:o,backOut:i,backInOut:n,bounceOut:c,bounceIn:s,bounceInOut:a,circIn:u,circOut:p,circInOut:l,cubicIn:d,cubicOut:f,cubicInOut:h,elasticOut:g,elasticIn:y,elasticInOut:w,expoIn:v,expoOut:b,expoInOut:m,linearNone:q,linearIn:k,linearOut:$,linearInOut:A,quadIn:T,quadOut:S,quadInOut:_,quartIn:E,quartOut:O,quartInOut:x,quintIn:I,quintOut:P,quintInOut:D,sineIn:B,sineOut:M,sineInOut:L}}),require.register("lib/keycode.coffee",function(t,e,r){var o,n,i,s,a,c,u,l,p,d,h,f,y,w,g,v,m;c=8,w=9,l=13,f=16,a=17,p=27,y=32,d=37,g=38,h=39,u=40,i=91,s=93,n="A".charCodeAt(0),o="Z".charCodeAt(0),m="0".charCodeAt(0),v="9".charCodeAt(0),r.exports=function(t){var e,r;return e="",t.shiftKey&&t.keyCode!==f&&(e+="SHIFT_"),(t.metaKey||t.ctrlKey&&-1===[a,i,s].indexOf(t.keyCode))&&(e+="META_"),r=function(){var e,r;switch(t.keyCode){case c:return"DELETE";case w:return"TAB";case l:return"ENTER";case f:return"SHIFT";case p:return"ESCAPE";case y:return"SPACE";case d:return"LEFT";case g:return"UP";case h:return"RIGHT";case u:return"DOWN";default:return n<=(e=t.keyCode)&&o>=e?"CHAR_"+String.fromCharCode(t.keyCode):m<=(r=t.keyCode)&&v>=r?"NUM_"+String.fromCharCode(t.keyCode):"OTHER"}}(),e+r}}),require.register("lib/prefix.coffee",function(t,e,r){var o,n,i,s,a;n=document.createElement("div").style,a={},i=function(t){var e,r,o,i,s,a,c;for(o=t.substr(0,1),e=o.toUpperCase(),c=[o,"webkit"+e,"Moz"+e,"ms"+e,"O"+e],s=0,a=c.length;a>s;s++)if(i=c[s],r=i+t.substr(1),r in n)return i.substr(0,i.length-1);return!1},o=function(t){return t.replace(/\-(\w)/gi,function(t,e){return e.toUpperCase()})},s=function(t){var e;return t=o(t),e=i(t),""===e?t:e?null!=a[t]?a[t]:a[t]=e+t.charAt(0).toUpperCase()+t.substr(1):!1},r.exports=s}),require.register("lib/router.coffee",function(t,e,r){var o,n,i,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("views/main"),o=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(){return this.mainView=new n({el:"body"})},e.prototype.routes={"*default":"default"},e.prototype["default"]=function(t){return null==t&&(t="index"),this.mainView.display(t),"function"==typeof window.ga?window.ga("send","pageview"):void 0},e}(Backbone.Router),r.exports=o}),require.register("models/score.coffee",function(t,e,r){var o,n,i,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};o=e("lib/easie"),n=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.defaults={turns:0},e.prototype.initialize=function(t){return this.id=t,this.resetScore(+window.localStorage.getItem("s-ings.game."+this.id)||0),this.on("reset",this.resetScore,this),this.on("tally",this.tallyScore,this),this.on("change",this.getTotal,this)},e.prototype.resetScore=function(t){return window.clearTimeout(this.timeout),this.set({score:0,record:t,bonus:0,total:0,correct:0,incorrect:0,consecutive:0,lastBonus:0,lastScore:0})},e.prototype.display=function(){var t,e,r,o;t={},o=this.attributes;for(e in o)r=o[e],t[e]=r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return t},e.prototype.tallyScore=function(t){var e,r,n,i,s,a,c,u,l,p,d,h,f,y,w,g=this;return r=t.callback,a=t.ms,d=t.tallyFrom,p=t.tallyAll,window.clearTimeout(this.timeout),w=this.attributes,e=w.bonus,l=w.score,c=w.record,f=w.total,0===l?"function"==typeof r?r():void 0:(y=Date.now(),a=Math.min(a||3e3,l),h=d?d:f,n=1e3/60,i=0,s=a/n,this.inProgress=!0,(u=function(){var t,a;return i=Math.floor((Date.now()-y)/n),a=i/s||0,a>=0&&1>=a||(a=1),t={total:Math.round(h+o.quartInOut(a)*(e+l-h))},t.record=Math.max(t.total,c||0),p&&(t.bonus=Math.round(h+o.quartInOut(a)*(e-h)),t.score=Math.round(h+o.quartInOut(a)*(l-h))),g.set(t),s>i?(window.clearTimeout(g.timeout),g.timeout=window.setTimeout(u,n)):(g.inProgress=!1,null!=r?window.setTimeout(r,100):void 0)})())},e.prototype.getTotal=function(t){var e;return e=t.changed,!e.total&&!this.inProgress&&e.total&&e.bonus&&this.set({total:this.get("score")+this.get("bonus")}),e.record?window.localStorage.setItem("s-ings.game."+this.id,e.record):void 0},e.prototype.setBy=function(t,e){var r,o,n,i;"string"==typeof t?(r=t,t={},t[r]=e):o=e;for(r in t){if(i=t[r],n=this.get(r),this.set(r,Math.max(n+i,0),o),"lastBonus"===r||"lastScore"===r)return void("undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log("`lastBonus` & `lastScore` cannot be set"));"bonus"===r&&i>0&&(this.set({lastBonus:0},{silent:!0}),this.set({lastBonus:i})),"score"===r&&i>0&&(this.set({lastScore:0},{silent:!0}),this.set({lastScore:i}))}return this},e}(Backbone.Model),r.exports=n}),require.register("templates/crossword.pug",function(t,e,r){function o(t){var e,r="",o=t||{};return function(t,o,n,i,s){r+='<h4 class="txt-muted">',function(){var t=["Quick","Cryptic"];if("number"==typeof t.length)for(var o=0,i=t.length;i>o;o++){var s=t[o];o>0&&(r+="/"),r=r+"<span"+(pug.attr("class",pug.classes(["crossword-mode","btn-no-bg","btn",s.toLowerCase()==n?"active":""],[!1,!1,!1,!0]),!1,!0)+pug.attr("data-mode",s.toLowerCase(),!0,!0))+">"+pug.escape(null==(e=s)?"":e)+"</span>"}else{var i=0;for(var o in t){i++;var s=t[o];o>0&&(r+="/"),r=r+"<span"+(pug.attr("class",pug.classes(["crossword-mode","btn-no-bg","btn",s.toLowerCase()==n?"active":""],[!1,!1,!1,!0]),!1,!0)+pug.attr("data-mode",s.toLowerCase(),!0,!0))+">"+pug.escape(null==(e=s)?"":e)+"</span>"}}}.call(this),r=r+'</h4><h4 class="txt-muted"><span class="crossword-hint btn-no-bg btn">Need a hint?</span><span class="txt-normal btn-no-bg btn"'+pug.attr("title","Your record is "+i.record+" points",!0,!0)+'><span class="crossword-score">'+pug.escape(null==(e=i.total)?"":e)+'</span> points</span></h4><div class="crossword-letters">',function(){var o=t.word.split("");if("number"==typeof o.length)for(var n=0,i=o.length;i>n;n++){var a=o[n],c=s.indexOf(n)>-1&&a||"";/[A-Z]/.test(a)&&(r=r+"<div"+pug.attr("class",pug.classes(["crossword-letter",c?"disabled":""],[!1,!0]),!1,!0)+'><div class="crossword-mask">'+pug.escape(null==(e=c)?"":e)+"</div><input"+(' class="crossword-input"'+pug.attr("value",c,!0,!0)+pug.attr("disabled",!!c,!0,!0))+"></div>")}else{var i=0;for(var n in o){i++;var a=o[n],c=s.indexOf(n)>-1&&a||"";/[A-Z]/.test(a)&&(r=r+"<div"+pug.attr("class",pug.classes(["crossword-letter",c?"disabled":""],[!1,!0]),!1,!0)+'><div class="crossword-mask">'+pug.escape(null==(e=c)?"":e)+"</div><input"+(' class="crossword-input"'+pug.attr("value",c,!0,!0)+pug.attr("disabled",!!c,!0,!0))+"></div>")}}}.call(this),r=r+'</div><div class="crossword-definition"><div class="crossword-definition-text">'+pug.escape(null==(e=t[n])?"":e)+'&nbsp;<span class="txt-muted crossword-length">('+pug.escape(null==(e=o)?"":e)+")</span></div></div>"}.call(this,"clue"in o?o.clue:"undefined"!=typeof clue?clue:void 0,"length"in o?o.length:"undefined"!=typeof length?length:void 0,"mode"in o?o.mode:"undefined"!=typeof mode?mode:void 0,"score"in o?o.score:"undefined"!=typeof score?score:void 0,"show"in o?o.show:"undefined"!=typeof show?show:void 0),r}r.exports=o}),require.register("views/card.coffee",function(t,e,r){var o,n,i={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};o=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.events={"input select, input, [contenteditable]":"update","click a[href]":"allowDefault","iostap a[href]":"allowDefault","iostap #balance":"balanceText","dragend #card":"onDragEnd","dragover #card":"onDragEnd","dragleave #card":"onDragEnd","dragend #card":"onDragEnd","drop #card":"onDrop","paste [contenteditable]":"onPaste"},e.prototype.initialize=function(){return this.updateClasses(),this.update()},e.prototype.updateClasses=function(){var t=this;return this.$el.attr("class",""),this.$("[name]").each(function(e,r){return t.$el.addClass([r.name,r.value].join("-"))})},e.prototype.update=function(t){var e=this;return window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){return e.updateClasses(),e.create()},300)},e.prototype.create=function(){var t=this;return this.$el.addClass("rendering").removeClass("drag").offset(),window.domtoimage.toPng(this.el.querySelector("#canvas"),{dpi:144}).then(function(e){var r,o,n,i;return t.$el.removeClass("rendering"),r=t.$("h2").text().trim(),n=t.$("h1").text().trim(),i=[r,n].join("-"),o=i.replace(/\s+/g,"-").toLowerCase().slice(0,50),t.$("#preview").attr("src",e),t.$("#download").attr("download",""+o+".png").attr("href",e).click()})},e.prototype.balanceText=function(){var t,e;return t=this.$(".balance-text"),e=t.html(),t.html(e.replace(/\s+|<br[^>]+>/g," ")),window.balanceText(".balance-text"),this.update()},e.prototype.allowDefault=function(t){return t.stopImmediatePropagation(),!0},e.prototype.onDragEnd=function(t){return t.preventDefault(),this.$el.toggleClass("drag","dragover"===t.type)},e.prototype.onDrop=function(t){var e,r,o=this;return t.preventDefault(),this.$el.removeClass("drag"),e=event.dataTransfer.files[0],r=new FileReader,r.onload=function(t){return o.$("select").removeAttr("disabled"),o.$("#canvas-img").css("background-image",'url("'+t.target.result+'")'),window.setTimeout(function(){return o.create()},300)},r.readAsDataURL(e)},e.prototype.onPaste=function(t){var e;return e=this.$(".balance-text"),window.setTimeout(function(){var t;return t=e.html().replace(/\s+|<[^>]+>/g," "),console.log(t),e.html(t),window.balanceText(".balance-text")},10)},e}(Backbone.View),r.exports=o}),require.register("views/chat.coffee",function(t,e,r){var o,n,i,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},c=[].slice;n=e("lib/prefix"),o=function(t){function r(){return i=r.__super__.constructor.apply(this,arguments)}return a(r,t),r.prototype.events={iostap:"generate"},r.prototype.history={},r.prototype.initialize=function(){return this.$el.height($(window).height()),this.$content=this.$("#message-content"),this.$author=this.$("#message-author"),this.render(this.prettify("Loading...")),this.undelegateEvents()},r.prototype.ready=function(){return this.render(this.prettify("To start chatting, tap anywhere.")),this.delegateEvents()},r.prototype.generate=function(t){var e;return 0===this.$(null!=t?t.target:void 0).closest("a").length?(e=[this.select,this.require,this.extract,this.prettify,this.render],_.bind(_.compose.apply(_,e.reverse()),this)()):void 0},r.prototype.select=function(){return this.random(["itstimefora","recommended","thecomputer","recommended","itstodayand","recommended"],"data")},r.prototype.require=function(t){return _.extend({path:t},e("chat/"+t))},r.prototype.extract=function(t){var e,r,o,n,i,s,a,u;return s=t.phrasings,r=t.inventory,u=t.thesaurus,i=t.path,a=this.random(s,i),e=function(){var t,e,i;for(i=[],t=0,e=r.length;e>t;t++)switch(o=r[t],typeof u[o]){case"function":i.push(u[o]());break;case"object":n=u[o],_.isArray(n)?i.push(this.random(n,o)):i.push(n);break;default:i.push(void 0)}return i}.call(this),a.apply(null,c.call(e).concat([function(t){return(t.match(/^[aeiou]/)?"an ":"a ")+t}]))},r.prototype.prettify=function(t){var e,r,o,n,i,s,a,c,u,l,p,d,h;return o=0,e=$("<span>"),e.css("font-size","10em").appendTo("body"),n=300/t.replace(/(<[^<]+>)/g,"").length,s=function(){var s,f,y,w,g,v;for(y=_.compact(t.split(/[\s$](<a[^<]+<\/a>)*/)),v=[],s=0,f=y.length;f>s;s++)h=y[s],a=(null!=(w=h.match(/>([^<]+)/))?w[1]:void 0)||h,g=h.split(a),u=g[0],r=g[1],a=function(){var t,r,s,u;for(s=a.split(" "),u=[],t=0,r=s.length;r>t;t++)h=s[t],u.push(this.wrapWord(function(){var t,r,s;for(s=[],i=t=0,r=h.length;r>t;i=++t)c=h[i],i>0&&(l=e.html(h[i-1]+c).width(),p=e.html(h[i-1]).width()+e.html(c).width(),d=(l-p)/10),o++,s.push(this.wrapSpan(c,o*n,d));return s}.call(this).join("")));return u}.call(this),v.push([u,a.join(" "),r].join(""));return v}.call(this),e.remove(),s.join(" ")},r.prototype.render=function(t){var e=this;return this.$el.addClass("leave").removeClass("active"),window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){return e.$el.removeClass("leave"),e.$content.html(t).offset(),e.$author.html(e.history.data?e.require(e.history.data).signature:"The Computer"),e.$el.addClass("active")},800)},r.prototype.wrapWord=function(t){return'<div class="word">'+t+"</div>"},r.prototype.wrapSpan=function(t,e,r){var o,i;return" "!==t?(i=n("transition-delay"),i=i.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}),o=""+i+": "+e+"ms;",r&&(o+="margin-left: "+r+"px"),'<span style="'+o+'" class="char">'+t+"</span>"):void 0},r.prototype.random=function(t,e){var r,o;return r=t.indexOf(this.history[e]),null!=r&&t.length>1&&[].concat(t).splice(r,1),o=_.sample(t),this.history[e]=o},r}(Backbone.View),r.exports=o}),require.register("views/crossword.coffee",function(t,e,r){var o,n,i,s,a,c,u={}.hasOwnProperty,l=function(t,e){function r(){this.constructor=t}for(var o in e)u.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("models/score"),a=e("lib/prefix"),s=e("lib/keycode"),i=[],o=function(t){function r(){return c=r.__super__.constructor.apply(this,arguments)}return l(r,t),r.prototype.events={"iostap    .crossword-mode":"setMode","click     .crossword-mode":"preventDefault","click     .crossword-mask":"preventDefault","click     .crossword-hint":"preventDefault","iostap    .crossword-hint":"onHint","iostap   .crossword-input":"onSelect","focusout .crossword-input":"onBlur","focusin  .crossword-input":"onFocus","keydown  .crossword-input":"onKeyPress","keyup    .crossword-input":"preventDefault","change   .crossword-input":"preventDefault"},r.prototype.template=e("templates/crossword"),r.prototype.initialize=function(){return this.mode="cryptic",this.score=new n("crossword"),this.listenTo(this.score,"change",this.onScoreChange),this.prepare(!0)},r.prototype.onComplete=function(){return this.$el.addClass("success"),_.delay(_.bind(this.prepare,this),600)},r.prototype.prepare=function(t){return this.nextClue(),this.render(),this.delegateEvents(),this.prepareScore(),t?void 0:this.focus()},r.prototype.nextClue=function(){return i=i.slice(1),0===i.length?i=_.shuffle(e("data/clues")):void 0},r.prototype.render=function(t){var e;return t=i[0],e=_.range(t.word.length),this.$el.html(this.template({clue:t,mode:this.mode,show:_.sample(e,_.random(1,t.word.length/3)),score:this.score.display(),length:t.word.replace(/([A-Z]+)/g,function(t){return t.length}).replace(/\s/g,", ")})),this.$(".crossword-letter").each(function(t,e){return e.style[a("transition-delay")]=""+30*t+"ms",e.offsetLeft}),this.$inputs=this.$(".crossword-input"),this.$score=this.$(".crossword-score"),this.$el.removeClass("success")},r.prototype.prepareScore=function(){return this.score.set({complete:!1,timestamp:(new Date).getTime(),pointsAvailable:"cryptic"===this.mode?3e3:1e3,bonusAvailable:1e3})},r.prototype.focus=function(){return this.$inputs.not("[disabled]").first().focus()},r.prototype.setMode=function(t){return this.mode=this.$(t.target).data("mode"),this.prepare()},r.prototype.onSelect=function(t){return this.$(t.target).siblings("input").focus()},r.prototype.onFocus=function(t){return this.$(t.target).parent().addClass("focus").siblings().removeClass("focus")},r.prototype.onBlur=function(t){var e;return t.isSimulated?(t.preventDefault(),e=this.$(t.target),e.parent().removeClass("focus")):void 0},r.prototype.preventDefault=function(t){return t.preventDefault()},r.prototype.onKeyPress=function(t){var e,r,o,n,i;switch(t.preventDefault(),t.stopImmediatePropagation(),n=s(t)){case"DELETE":i="",o="prev";break;case"LEFT":case"SHIFT_TAB":o="prev";break;case"RIGHT":case"TAB":o="next";break;default:n.match("CHAR")&&(i=String.fromCharCode(t.keyCode),o="next")}if(r=this.$(t.target),e=r,null!=i&&r.val(i).prev().html(i),null!=o){for(;e===r||e.is("[disabled]");)e=e.parent()[o]().find(".crossword-input"),e.focus();return this.checkAnswer()}},r.prototype.onHint=function(){var t,e,r,o,n,s=this;return r=_.sample(this.$inputs.not(".disabled").filter(function(t,e){return!e.value}).toArray()),t=$(r),o=t.parent().index(),n=i[0].word[o],e=this.score.get("pointsAvailable"),t.val(n).prev().html(n).parent().addClass("disabled"),t.attr("disabled",!0),this.score.setBy({score:-500},{silent:!0}).set({pointsAvailable:Math.floor(Math.max(.6*e-200,0)),bonusAvailable:0}).trigger("tally",{ms:300,tallyAll:!0,callback:function(){return s.checkAnswer(!0)}})},r.prototype.onScoreChange=function(t){var e;return e=t.changed,null!=e.total?this.$score.html(this.score.display().total):void 0},r.prototype.checkAnswer=function(t){var e,r,o,n,s,a,c=this;return e=i[0].word.match(/[A-Z]/g).join(""),s=this.$inputs.map(function(t,e){return e.value}).toArray().join(""),s===e?(this.undelegateEvents(),t?this.onComplete():(n=this.score.get("timestamp")-(new Date).getTime(),a=this.score.get("total"),r=this.score.get("bonusAvailable"),o=Math.max(1e4+n,0),this.score.set({complete:!0}).setBy({score:this.score.get("pointsAvailable"),bonus:Math.min(Math.floor(o/10),r)},{silent:!0}).trigger("tally",{ms:800,tallyAll:!0,callback:function(){return c.onComplete()}}))):void 0},r}(Backbone.View),r.exports=o}),require.register("views/gallery-scroller.coffee",function(t,e,r){var o,n,i,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("lib/prefix"),o=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(){var t,e=this;return t=this.$el.siblings(".gallery"),this.$bar=$("<div class='gallery-pagination-indicator bg-hl'>"),this.$el.append(this.$bar),this.onResize(t),this.handleScroll(t),this.listenTo(this,"resize",function(){return e.onResize(t)}),this.listenTo(this,"keydown",function(t){return e.onKeyPress(t)}),t.on("scroll",function(t){return e.onScroll(t)})},e.prototype.undelegateEvents=function(){return this.$el.siblings(".gallery").off("scroll"),e.__super__.undelegateEvents.apply(this,arguments)},e.prototype.onScroll=function(t){return this.handleScroll($(t.currentTarget))},e.prototype.onResize=function(t){return this.data={scrollWidth:t.prop("scrollWidth"),outerWidth:t.outerWidth(),childWidth:t.children().last().outerWidth(),sections:this.$el.children().not(this.$bar).length},this.handleScroll(t)},e.prototype.handleScroll=function(t){var e,r,o,i,s,a;return s=t.scrollLeft(),e=s/(this.data.scrollWidth-this.data.childWidth)*(this.data.sections-1),r=Math.round(e),Math.ceil(e)===this.data.sections-1&&(o=s-this.data.childWidth*(this.data.sections-2),i=o/this.data.outerWidth+o/this.data.childWidth,e+=i*(this.data.outerWidth/this.data.childWidth-1),e=Math.min(e,this.data.sections-1)),this.$bar.css(n("transform"),"translate3d(0, "+100*e+"%, 0)"),this.$el.children().removeClass("active").eq(r).addClass("active"),this.current={offset:e,index:r,desired:null!=(a=this.current)?a.desired:void 0}},e.prototype.onKeyPress=function(t){var e,r,o,n,i=this;if("LEFT"===t||"RIGHT"===t)return n=this.$el.children().length,e=null!=this.current.desired?this.current.desired:this.current.offset,"LEFT"===t&&e--,"RIGHT"===t&&e++,"LEFT"===t&&(r="ceil"),"RIGHT"===t&&(r="floor"),o=Math.min(Math.max(Math[r](e),0),n-1),this.$el.children().eq(o).trigger("iostap").focus(),this.current.desired=o,window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){return delete i.current.desired},800)},e}(Backbone.View),r.exports=o}),require.register("views/header.coffee",function(t,e,r){var o,n,i,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n=e("lib/prefix"),o=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(){var t=this;return $(window).on("scroll",function(){return t.onScroll()}),$(window).on("resize",function(){return t.onResize()}),this.onResize(),this.detectDirection()},e.prototype.onScroll=function(){var t=this;return window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){return t.detectDirection()},10)},e.prototype.detectDirection=function(){var t,e,r;return r=$(window).scrollTop(),t=this.data.contentHeight-1.33*this.data.viewportHeight,e=-t>r||r>=t,this.state!==e?$("html").toggleClass("hide-nav",this.state=e):void 0},e.prototype.onResize=function(){return this.data={contentHeight:$("body").height(),viewportHeight:$(window).height()}},e.prototype.style=function(t,e,r,o){var i;return null==o&&(o=0),i={opacity:o},i[n("transform")]="translate3d("+t+"px,0,0) scale("+e+",1)",null!=r&&(i[n("transition")]=r),i},e.prototype.hide=function(t,e){var r,o,n,i=this;return r=$("#logo",e),o=$("#logo",t),n=r.offset().left-o.offset().left,0!==n?(r.css(this.style(-n/2,2,"none")),r.offset(),o.css(this.style(n/2,2)),window.setTimeout(function(){
return r.css(i.style(0,1,"",1))},300)):void 0},e}(Backbone.View),r.exports=o}),require.register("views/main.coffee",function(t,e,r){var o,n,i,s,a,c,u,l={}.hasOwnProperty,p=function(t,e){function r(){this.constructor=t}for(var o in e)l.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=e("app"),c=e("lib/keycode"),o=n=null,a={},i=function(t){function r(){return u=r.__super__.constructor.apply(this,arguments)}return p(r,t),r.prototype.events={focus:"toggleLinkBehaviour",keyup:"toggleLinkBehaviour",keydown:"toggleLinkBehaviour","iostap a[href]":"navigateWithoutDelay","click a[href]":"preventDefault",mousemove:"onMouseMove",touchmove:"onMouseMove"},r.prototype.initialize=function(){var t;return o=this.$("#inbound"),n=this.$("#outbound"),t=_.debounce(_.bind(this.onResize,this),300),$(window).on("resize",t),this.$style=$("<style />"),this.$el.append(this.$style)},r.prototype.toggleLinkBehaviour=function(t){var e,r,o,n,i;r=c(t),"keydown"===t.type?this.disableTap=null!=r.match("META"):this.disableTap=!1,i=this.views;for(o in i)n=i[o],n.trigger(t.type,r);("ENTER"===r||"SPACE"===r)&&(e=$(document.activeElement),e.is("a[href]")&&(t.preventDefault(),"keyup"===t.type&&e.trigger("iostap")))},r.prototype.navigateWithoutDelay=function(t){var e,r,o,n,i,a,c,u;return n=t.currentTarget,n.hash?(t.preventDefault(),e=$(n),o=$(e.attr("href")),r=$(e.data("parent")||document.scrollingElement),c=o.get(0).offsetLeft,u=o.get(0).offsetTop,i=r.get(0).scrollWidth-r.get(0).offsetWidth,a=r.get(0).scrollHeight-r.get(0).offsetHeight,a||i?r.stop().animate({scrollLeft:Math.min(c,i),scrollTop:Math.min(u,a)},800,"quintInOut",function(){var t;return null!=(t=document.activeElement)?t.blur():void 0}):$(document.scrollingElement).scrollTo(o.offset().top)):this.disableTap?!1:this.isAllowed(n)?(t.preventDefault(),$(document.scrollingElement).scrollTo(0,function(){return s.router.navigate(n.pathname,!0)}),!1):window.location=n.href},r.prototype.preventDefault=function(t){return!this.disableTap||t.currentTarget.hash?(t.preventDefault(),!1):void 0},r.prototype.isAllowed=function(t){var e;return t.origin===window.location.origin&&!(null!=(e=t.href)?e.match(/\.zip$/):void 0)&&null==$(t).data("follow")},r.prototype.display=function(t,e){var r,n,i,s,a,c=this;if(r=(null!=e?e.key:void 0)||t,this.views)if(this.key===r)for(a=this.views,i=0,s=a.length;s>i;i++)n=a[i],"function"==typeof n.display&&n.display();else this.transitionViews(e,function(){return c.afterTransition()});else this.views={},this.createViews(o,e);return this.key=r},r.prototype.transitionViews=function(t,e){var r,o,n,i,s,c=this;window.clearTimeout(this.transitionTimeout),n=Backbone.history.location.pathname,s=this.views;for(r in s)i=s[r],i.stopListening(),i.undelegateEvents();return this.$el.addClass("loading"),(o=a[n])?this.onLoad(t,o,e):$.ajax({url:n,type:"GET",success:function(r){return a[n]=r,c.onLoad(t,r,e)},error:function(){return c.$el.removeClass("loading")}})},r.prototype.onLoad=function(t,e,r){var i,s,a,c,u;i=$(e),c=i.filter("#inbound").removeClass("ready"),this.$el.removeClass("loading"),window.hljs&&c.find("pre code").each(function(){return window.hljs.highlightBlock(this)}),$("head").find("title, meta").remove(),$("head").prepend(i.filter("title, meta")),n.attr("class",c.attr("class")),n.html(c.html()),n.get(0).offsetWidth,o.attr("id","outbound"),n.attr("id","inbound"),u=this.views;for(s in u)a=u[s],"function"==typeof a.hide&&a.hide(o,n),delete this.views[s];return this.createViews(n,t),r()},r.prototype.createViews=function(t,r){var o=this;return t.find("[data-view], [data-require]").each(function(t,n){var i,s,a;try{if(n.dataset.view&&(i=e(n.dataset.view),a=_.extend({el:n},r),o.views[n.dataset.view]=new i(a)),n.dataset.require)return $.ajax({url:n.dataset.require,dataType:"script",async:!0,success:function(){var t;return null!=(t=o.views[n.dataset.view])&&"function"==typeof t.ready?t.ready():void 0}})}catch(c){return s=c,"undefined"!=typeof console&&null!==console?console.error(s):void 0}})},r.prototype.afterTransition=function(){var t=this;return window.clearTimeout(this.transitionTimeout),this.transitionTimeout=window.setTimeout(function(){return o.removeClass("ready"),t.swapContainers(),window.setTimeout(function(){return o.addClass("ready"),n.removeClass("ready")},100)},600)},r.prototype.swapContainers=function(){var t,e;return t=n,e=o,o=t,n=e,n.empty().removeAttr("class")},r.prototype.onResize=function(){var t,e,r,o;r=this.views,o=[];for(t in r)e=r[t],o.push(e.trigger("resize"));return o},r.prototype.onMouseMove=function(t){var e,r,o,n,i,s,a;return t.touches&&(t=t.touches[0]),i=window.innerWidth,e=window.innerHeight,s=Math.max(t.clientX/i,0),a=1-Math.max(t.clientY/e,0),e=180+60*a%60,n=100-100*Math.abs(.5-s),o=40+25*a+10*Math.abs(.5-s),r="hsl("+e.toFixed(2)+", "+n.toFixed(2)+"%, "+o.toFixed(2)+"%)",this.$style.html(".txt-hl { color: "+r+"; }\n.bg-hl  { background-color: "+r+"; }")},r}(Backbone.View),r.exports=i}),require.register("views/send-email.coffee",function(t,e,r){var o,n,i={}.hasOwnProperty,s=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};o=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.initialize=function(){return this.$el.attr("href","mailto:stephen@s-ings.com")},e}(Backbone.View),r.exports=o}),require.register("views/tiles.coffee",function(t,e,r){var o,n,i,s,a,c,u,l,p={}.hasOwnProperty,d=function(t,e){function r(){this.constructor=t}for(var o in e)p.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=e("app"),c=".tile",u="tile-muted",i="tile-active",n="tile-actionable",a="tile-disabled",o=function(t){function e(){return l=e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.initialize=function(){return this.$(".tile-img-reveal").each(function(t,e){return e.src=$(e).data("src")})},e.prototype.events=function(){var t,e;return e="ontouchstart"in window,t={"iostap .tile-tag-link":"filterByTag"},e?t.iostap="activate":(t["mouseleave .tile-link"]="deactivate",t["mouseenter .tile-link"]="activate"),t},e.prototype.activate=function(t){var e,r;return this.$(t.target).is(".tile-close")?(t.stopImmediatePropagation(),void this.deactivate()):(e=this.$(t.target).closest(c),e.length>0?"iostap"===t.type&&e.hasClass(i)?!0:(t.stopImmediatePropagation(),r=function(){return e.removeClass(u).addClass(i).toggleClass(n,"iostap"===t.type).siblings().addClass(u).removeClass(i).removeClass(n)},"iostap"===t.type?$("body").scrollTo(e.offset().top-40,r):r()):(t.stopImmediatePropagation(),this.deactivate()))},e.prototype.deactivate=function(t){return this.$(c).removeClass([u,i,n].join(" "))},e.prototype.filterByTag=function(t){var e,r;return t.preventDefault(),t.stopImmediatePropagation(),r=t.currentTarget.hash.slice(1),e=this.$(t.currentTarget).parents(".tile-tag"),e.toggleClass("active").siblings().removeClass("active"),e.hasClass("active")?this.$(c).each(function(t,o){return e=$(o),e.toggleClass(a,!e.data("tags").match(r))}):this.$(c).removeClass(a)},e.prototype.preventDefault=function(){return!1},e}(Backbone.View),r.exports=o}),require.register("views/typicons.coffee",function(t,e,r){var o,n,i,s={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};n={},o=function(t){function e(){return i=e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.events={"mouseenter .icon":"onEnter","mouseout   .icon":"onLeave","focusin    #icon-search":"onFocus","focusout   #icon-search":"onBlur","input      #icon-search":"onChange"},e.prototype.initialize=function(){return this.$details=this.$("#icon-details"),this.$icons=this.$(".icon"),this.$search=this.$("#icon-search"),this.searchText=this.$details.text()},e.prototype.onEnter=function(t){var e,r,o,i,s=this;return t.target===t.currentTarget?(e=this.$(t.target),i=e.data(),window.clearTimeout(n[i.name]),window.clearTimeout(n.change),e.addClass("expand-before"),o=function(){return s.$el.addClass("hover"),e.addClass("transition")},r=function(){return e.addClass("expand"),s.$details.html('<i class="typcn typcn-'+i.name+'"></i>\n<span class="icon-name">'+i.name+'</span>\n<small class="icon-code">'+i.code+"</small>")},n[i.name]=window.setTimeout(function(){return o(),n[i.name]=window.setTimeout(r,100)},1)):void 0},e.prototype.onLeave=function(t){var e,r,o=this;return t.target===t.currentTarget&&(e=this.$(t.target),r=e.data(),this.$el.removeClass("hover"),e.removeClass("expand"),window.clearTimeout(n[r.name]),n[r.name]=window.setTimeout(function(){return e.removeClass("expand-before transition")},300)),window.clearTimeout(n.change),n.change=window.setTimeout(function(){return o.onChange()},300)},e.prototype.onFocus=function(t){return this.$el.addClass("search")},e.prototype.onBlur=function(t){return this.$el.removeClass("search"),this.$icons.removeClass("inactive")},e.prototype.onChange=function(t){var e,r,o,n;return n=this.$search.val(),this.$icons.removeClass("inactive"),n?(this.$active=this.$icons.filter(function(t,e){return $(e).data("match").match(n)}),r=4,e=_.map(this.$active.toArray(),function(t){return $(t).data("name")}),o=Math.min(e.length,r),this.$details.html(function(){return 1===e.length?e[0]:e.length>0?""+e.slice(0,o-1).join(", ")+" and "+(e.length>o?e.length-o+" others":e.slice(o-1)[0]):"No results found for “"+n+"”.\nTry <b>media</b>, <b>weather</b> or <b>arrow</b>."}),this.$icons.not(this.$active).addClass("inactive")):this.$details.html(this.searchText)},e}(Backbone.View),r.exports=o}),require.register("___globals___",function(t,e,r){})}(),require("___globals___");